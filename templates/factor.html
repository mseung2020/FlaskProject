<!DOCTYPE html>
<html lang="ko">
<head>
  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-PGJ6TWV8');
  </script>
  <!-- End Google Tag Manager -->

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>NewCandle™</title>
  <link rel="icon" type="image/jpeg" href="{{ url_for('static', filename='image/logo.png') }}">
  <link rel="preload" as="image" href="{{ url_for('static', filename='image/logo.png') }}">  

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <link rel="stylesheet" href="{{ url_for('static', filename='css/fonts.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/factor.css') }}">
</head>
<body>
  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PGJ6TWV8"
    height="0" width="0" style="display:none;visibility:hidden"></iframe>
  </noscript>
  <!-- End Google Tag Manager (noscript) -->
   
  <!-- 헤더 (내비게이션 바) -->
  <header role="banner">
    <div class="header-left">
      <img src="{{ url_for('static', filename='image/logo.png') }}" alt="NewCandle Logo" class="header-logo" onclick="location.href='/'">
      <h1 class="logo" onclick="location.href='/'" tabindex="0">NewCandle™</h1>
    </div>
    <!-- 모바일 메뉴 아이콘 (햄버거) 추가 -->
    <div class="menu-icon">&#9776;</div>
    <div class="header-right">
      <nav id="main-nav" aria-label="메인 네비게이션">
        <a href="/index" class="header-link">• 종목 분석</a>
        <a href="/page2" class="header-link">• 투자 정보</a>
        <a href="/page3" class="header-link">• AI 연구</a>
      </nav>
    </div>
  </header>
  
  <!-- 오버레이 (모바일 메뉴 토글용) -->
  <div id="overlay"></div> 
  
  <!-- 메인 컨테이너 -->
  <div id="mainContainer">

    <div class="column-left">

      <div id="Box1" class="box">
        <div id="Content1">
          <div id="loader-1" class="loader hidden">
            <div class="loader-inner">
              <div class="loader-image"></div>
              <div class="loader-text">⏳ 잠시 후 조회가 완료됩니다...</div>
            </div>
          </div>
          <canvas id="returnChart" width="100%" height="200"></canvas>
        </div>
      </div>

      <div id="Box3" class="box">
        <div id="Content3">
          <div class="big-inner-box">
            <div id="loader-left" class="loader hidden"></div>
            <div id="left-result"></div>
          </div>
          <div class="big-inner-box">
            <div id="loader-right" class="loader hidden"></div>
            <div id="right-result"></div>
          </div>
        </div>
      </div>

    </div>

    <div class="column-right">

      <div id="Box2" class="box">
        <div id="Content2">
          <div class="button-grid">
              <button class="factor-btn factor-toggle">젊은 CEO/대표<br>(40대 이하)</button>
              <button class="factor-btn factor-toggle">연세대 졸업<br>CEO/대표</button>
              <button class="factor-btn factor-toggle">고려대 졸업<br>CEO/대표</button>
              <button class="factor-btn factor-toggle">대학생 선호 상위<br>(링커리어)</button>
              <button class="factor-btn factor-toggle">브랜드 평판 상위</button>
              <button class="factor-btn factor-toggle">환경 점수 A이상<br>(ESG평가)</button>
              <button class="factor-btn factor-toggle">사회 점수 A이상<br>(ESG평가)</button>
              <button class="factor-btn factor-toggle">지배구조 점수 A이상<br>(ESG평가)</button>
              <button class="factor-btn factor-toggle">특허자산지수 상위<br>(PAI지수)</button>
              <button class="factor-btn factor-toggle">임/직원수 상위</button>
              <button class="factor-btn factor-toggle">서울시 소재<br>(본사)</button>
              <button class="factor-btn factor-toggle">상장 연도<br>(오래된순)</button>
              <button class="factor-btn factor-toggle">사내 카페 보유</button>
              <button class="factor-btn factor-toggle">외국인<br>보유비율 상위</button>
              <button class="factor-btn factor-toggle">자사주<br>보유비율 상위</button>
              <button class="factor-btn icon-btn">
                <img src="{{ url_for('static', filename='image/wheel.png') }}" 
                  style=" width: 30%; height: auto;">
              </button>
          </div>
        </div>
      </div>
      

      <div id="Box4" class="box">
        <div id="Content4">
          
          <div class="box4-left">
            <button class="factor-btn selector-btn active" id="selector-btn-1">AND</button>
            <button class="factor-btn selector-btn" id="selector-btn-2">OR</button>
          </div>

          <div class="box4-center">
            <div id="sliderWrapper">
              <div id="sliderTrack">
                <div class="slider-mark-container">
                  <div class="slider-mark"></div>
                  <span class="slider-label">3개월</span>
                </div>
                <div class="slider-mark-container">
                  <div class="slider-mark"></div>
                  <span class="slider-label">6개월</span>
                </div>
                <div class="slider-mark-container">
                  <div class="slider-mark"></div>
                  <span class="slider-label">9개월</span>
                </div>
                <div class="slider-mark-container">
                  <div class="slider-mark"></div>
                  <span class="slider-label">12개월</span>
                </div>
                <div id="sliderKnob"></div>
              </div>
            </div>
          </div>

          <div class="box4-right">
            <button class="box4-right-btn">결과<br>보기</button>
          </div>
        

        </div>
      </div>
    
    </div>

  </div>

  <!-- 푸터 -->
  <footer>
    <p>&copy; 2025 NewCandle™. All rights reserved.</p>
  </footer>
  
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      document.querySelector('.menu-icon').addEventListener('click', function() {
        toggleMenu();
      });
      document.getElementById('overlay').addEventListener('click', function() {
        toggleMenu();
      });
    });
    
    function toggleMenu() {
      const nav = document.getElementById('main-nav');
      const overlay = document.getElementById('overlay');
      
      nav.classList.toggle('nav-active');
      overlay.classList.toggle('active');
    }
  </script>
  <script src="{{ url_for('static', filename='js/factor.js') }}"></script>  
</body>
</html>
